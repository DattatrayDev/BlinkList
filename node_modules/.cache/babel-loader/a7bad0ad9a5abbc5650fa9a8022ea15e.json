{"ast":null,"code":"var _jsxFileName = \"/home/dattd/Desktop/BlinkListApp-React/src/Components/pages/BookInfoPage/index.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable eqeqeq */\nimport { Container, Box } from '@mui/material';\nimport Typography from '../../atoms/Typography';\nimport Icon from '../../atoms/Icons';\nimport { ArrowForward } from '@mui/icons-material';\nimport Button from '../../atoms/Button';\nimport Image from '../../atoms/Images';\nimport Tab from '../../molecules/tabs';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport theme from '../../../Themes/main';\nimport { makeStyles } from '@mui/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyle = makeStyles({\n  topHeading: {\n    margin: `${theme.spacing(3)} 0`\n  },\n  mainParent: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing(5)\n  },\n  parent: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between'\n  },\n  name: {\n    fontWeight: 'bold',\n    marginBottom: theme.spacing(4)\n  },\n  aim: {\n    marginBottom: theme.spacing(4)\n  },\n  writerName: {\n    color: 'gray',\n    fontWeight: 'bold',\n    marginBottom: theme.spacing(4)\n  },\n  timeInfo: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  alarmIcon: {\n    paddingRight: theme.spacing(0),\n    marginTop: theme.spacing(0)\n  },\n  time: {\n    color: theme.palette.textcolor.light,\n    fontSize: theme.spacing(3)\n  },\n  clickables: {\n    fontWeight: '700',\n    display: 'flex'\n  },\n  statusBox: {\n    margin: `0 ${theme.spacing(4)} 0 0`\n  },\n  status: {\n    margin: `0 ${theme.spacing(4)} 0 0`\n  },\n  forward: {\n    color: 'gray',\n    margin: `0 ${theme.spacing(4)} 0 0`\n  },\n  footer: {\n    marginBottom: '260px',\n    borderBottom: '1px solid lightGrey',\n    padding: `${theme.spacing(4)} 0px`\n  }\n});\n\nconst BookInfoComponent = _ref => {\n  _s();\n\n  let {\n    library,\n    setLibrary\n  } = _ref;\n  const classes = useStyle();\n  const {\n    bookId\n  } = useParams();\n  const tabData = [{\n    'value': 'synopsis',\n    'label': 'Synopsis'\n  }, {\n    'value': 'audience',\n    'label': 'Who is it for?'\n  }, {\n    'value': 'author',\n    'label': 'About the author'\n  }];\n  const [currState, setCurrState] = useState(tabData[0].value);\n  const [bookData, setBookData] = useState(null);\n  const [currentlyReadingStatus, setcurrentlyReadingStatus] = useState(true);\n\n  const handleState = state => {\n    setCurrState(state);\n  };\n\n  const checkInLibrary = () => {\n    for (let curr of library.currentlyReading) {\n      console.log(curr.id, bookId);\n\n      if (curr.id == bookId) {\n        setcurrentlyReadingStatus(true);\n        return;\n      }\n    }\n\n    setcurrentlyReadingStatus(false);\n  };\n\n  useEffect(() => {\n    const processor = async bookId1 => {\n      let response = await fetch(`http://localhost:3000/books/${bookId1}`);\n      const bookData1 = await response.json();\n      setBookData(bookData1);\n    };\n\n    checkInLibrary();\n    processor(bookId); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const libraryStatusHandler = async event => {\n    let index = library.currentlyReading.findIndex(curr => curr.id == bookId);\n    let currData = library.currentlyReading[index];\n    library.currentlyReading.splice(index, 1);\n    library.finishedBook.push({\n      \"id\": currData.id\n    });\n    setLibrary(library);\n    let res = await fetch(\"http://localhost:3000/library/\", {\n      method: \"PUT\",\n      body: JSON.stringify(library),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    checkInLibrary();\n    return res.json();\n  };\n\n  const moreInfo = () => {\n    if (currState === tabData[0].value) {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          color: '#03314B',\n          fontWeight: '400',\n          fontSize: '16px'\n        },\n        children: [\"Beyond Entrepreneurship 2.0 (2020) updates Jim Collins and Bill Lazier\\u2019s essential 1992 business handbook, Beyond Entrepreneurship for the\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 160\n        }, this), \" entrepreneurs, visionaries, and innovators of today. This new edition combines the timeless business advice and strategy of the original text,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 308\n        }, this), \" supplemented with cutting-edge insights and case studies pertinent to today\\u2019s business world.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this);\n    } else if (currState === tabData[1].value) {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          color: '#03314B',\n          fontWeight: '400',\n          fontSize: '16px'\n        },\n        children: bookData.for\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this);\n    } else if (currState === tabData[2].value) {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          color: '#03314B',\n          fontWeight: '400',\n          fontSize: '16px'\n        },\n        children: bookData.about_author\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  return !bookData ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n    \"data-testid\": \"circular-progress\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.topHeading,\n      sx: {\n        display: 'flex',\n        jusstifyContent: 'start',\n        fontSize: '18px'\n      },\n      children: \"Get the key ideas from\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.mainParent,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        className: classes.parent,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.name,\n            variant1: \"h4\",\n            sx: {\n              display: 'flex',\n              jusstifyContent: 'start',\n              color: '#03314B'\n            },\n            children: bookData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.aim,\n            sx: {\n              display: 'flex',\n              jusstifyContent: 'start',\n              fontSize: '20px',\n              fontWeight: '550',\n              fontFamily: 'Cera Pro',\n              color: '#03314B'\n            },\n            children: bookData.aim\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.writerName,\n            sx: {\n              display: 'flex',\n              jusstifyContent: 'start'\n            },\n            children: bookData.writerName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.timeInfo,\n            sx: {},\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: /*#__PURE__*/_jsxDEV(AccessTimeIcon, {\n                className: classes.alarmIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.time,\n              variant1: \"body\",\n              children: bookData.timeRead\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.clickables,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            children: \"Read now\",\n            size: \"medium\",\n            variant: \"outlined\",\n            color: \"success\",\n            className: classes.statusBox\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this), currentlyReadingStatus ? /*#__PURE__*/_jsxDEV(Button, {\n            \"data-testid\": \"status-handler\",\n            children: \"Finished Reading\",\n            size: \"medium\",\n            variant: \"contained\",\n            color: \"success\",\n            onClick: libraryStatusHandler,\n            classesName: classes.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 29\n          }, this) : '', /*#__PURE__*/_jsxDEV(Button, {\n            children: \"Send to Kindle\",\n            size: \"medium\",\n            className: classes.forward,\n            endIcon: /*#__PURE__*/_jsxDEV(ArrowForward, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 110\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginRight: '200px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          height: \"300\",\n          width: \"280\",\n          src: bookData.url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.footer,\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        stateHandler: handleState,\n        tabData: tabData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          height: '100px'\n        },\n        children: moreInfo()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BookInfoComponent, \"XoluAwOR+RRcNbvlRFp0gbXlm88=\", false, function () {\n  return [useStyle, useParams];\n});\n\n_c = BookInfoComponent;\nexport default BookInfoComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookInfoComponent\");","map":{"version":3,"sources":["/home/dattd/Desktop/BlinkListApp-React/src/Components/pages/BookInfoPage/index.tsx"],"names":["Container","Box","Typography","Icon","ArrowForward","Button","Image","Tab","AccessTimeIcon","useState","useEffect","useParams","CircularProgress","theme","makeStyles","useStyle","topHeading","margin","spacing","mainParent","display","justifyContent","marginBottom","parent","flexDirection","name","fontWeight","aim","writerName","color","timeInfo","alignItems","alarmIcon","paddingRight","marginTop","time","palette","textcolor","light","fontSize","clickables","statusBox","status","forward","footer","borderBottom","padding","BookInfoComponent","library","setLibrary","classes","bookId","tabData","currState","setCurrState","value","bookData","setBookData","currentlyReadingStatus","setcurrentlyReadingStatus","handleState","state","checkInLibrary","curr","currentlyReading","console","log","id","processor","bookId1","response","fetch","bookData1","json","libraryStatusHandler","event","index","findIndex","currData","splice","finishedBook","push","res","method","body","JSON","stringify","headers","moreInfo","for","about_author","jusstifyContent","fontFamily","timeRead","marginRight","url","height"],"mappings":"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","sourcesContent":["/* eslint-disable eqeqeq */\nimport {Container, Box} from '@mui/material';\nimport Typography from '../../atoms/Typography';\nimport Icon from '../../atoms/Icons';\nimport {ArrowForward} from '@mui/icons-material';\nimport Button from '../../atoms/Button';\nimport Image from '../../atoms/Images';\nimport Tab from '../../molecules/tabs';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport {useState, useEffect} from 'react';\nimport { useParams } from \"react-router-dom\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport theme from '../../../Themes/main'\nimport {makeStyles} from '@mui/styles'\n\nconst useStyle = makeStyles({\n    topHeading: {\n        margin: `${theme.spacing(3)} 0`\n    },\n    mainParent: {\n        display: 'flex',\n        justifyContent: 'space-between', \n        marginBottom: theme.spacing(5)\n    },\n    parent: {\n        display: 'flex', \n        flexDirection: 'column', \n        justifyContent: 'space-between'\n    },\n    name: {\n        fontWeight: 'bold',\n        marginBottom: theme.spacing(4)\n    },\n    aim: {\n        marginBottom: theme.spacing(4)\n    },\n    writerName: {\n        color: 'gray', \n        fontWeight: 'bold', \n        marginBottom: theme.spacing(4)\n    },\n    timeInfo: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    alarmIcon: {\n        paddingRight: theme.spacing(0),\n        marginTop: theme.spacing(0)\n    },\n    time: {\n        color: theme.palette.textcolor.light, \n        fontSize: theme.spacing(3) \n    },\n    clickables: {\n        fontWeight: '700', \n        display: 'flex',\n    },\n    statusBox: {\n        margin: `0 ${theme.spacing(4)} 0 0`        \n    },\n    status: {\n        margin: `0 ${theme.spacing(4)} 0 0`,\n    },\n    forward: {\n        color:'gray', \n        margin: `0 ${theme.spacing(4)} 0 0` \n    },\n    footer: {\n        marginBottom: '260px', \n        borderBottom: '1px solid lightGrey', \n        padding: `${theme.spacing(4)} 0px`\n    }\n});\n\n\nconst BookInfoComponent = ({library, setLibrary}:any)=>{\n    const classes = useStyle();\n    const { bookId } = useParams();\n    const tabData = [\n        { \n          'value': 'synopsis',\n          'label': 'Synopsis',\n        },\n        { \n          'value': 'audience',\n          'label': 'Who is it for?'\n        },\n        { \n            'value': 'author',\n            'label': 'About the author'\n        }\n    ]\n    const [currState, setCurrState] = useState(tabData[0].value);\n    const [bookData, setBookData] = useState<any>(null);\n    const [currentlyReadingStatus, setcurrentlyReadingStatus] = useState<boolean>(true);\n    const handleState = (state:any) => {\n        setCurrState(state);\n    }\n    const checkInLibrary = ()=>{\n        for(let curr of library.currentlyReading){\n            console.log(curr.id,bookId)\n            if(curr.id == bookId){\n                setcurrentlyReadingStatus(true)\n                return;\n            }\n        }\n        setcurrentlyReadingStatus(false);\n    }\n    useEffect(() =>{\n        const processor = async (bookId1: any) => {\n            let response = await fetch(`http://localhost:3000/books/${bookId1}`);\n            const bookData1 = await response.json();\n            setBookData(bookData1);\n        }\n        checkInLibrary();\n        processor(bookId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const libraryStatusHandler = async (event:any) => {\n    \n            let index = library.currentlyReading.findIndex((curr:any) => curr.id == bookId);\n            let currData = library.currentlyReading[index];\n            library.currentlyReading.splice(index, 1);\n            library.finishedBook.push({\"id\" : currData.id});\n            setLibrary(library);\n            let res = await  fetch(\"http://localhost:3000/library/\", {\n                method: \"PUT\",\n                body: JSON.stringify(library),\n                headers: {\n                \"Content-Type\": \"application/json\"\n                }\n            });\n            checkInLibrary();\n            return res.json();\n        }\n    \n    const moreInfo = ()=>{\n        if(currState === tabData[0].value){\n            return(\n                <Typography sx={{color:'#03314B',fontWeight:'400',fontSize:'16px'}}>\n                     Beyond Entrepreneurship 2.0 (2020) updates Jim Collins and Bill Lazier’s essential 1992 business handbook, Beyond Entrepreneurship for the<br/> entrepreneurs, visionaries, and innovators of today. This new edition combines the timeless business advice and strategy of the original text,<br/> supplemented with cutting-edge insights and case studies pertinent to today’s business world.\n                </Typography>\n            )\n        }else if(currState === tabData[1].value){\n            return(\n                <Typography  sx={{color:'#03314B',fontWeight:'400',fontSize:'16px'}}>\n                    {bookData.for}  \n                </Typography>\n            )\n        }else if(currState === tabData[2].value){\n            return(\n                <Typography sx={{color:'#03314B',fontWeight:'400',fontSize:'16px'}}>\n                    {bookData.about_author}       \n                </Typography>\n            )\n        }\n    }\n    return(\n        !bookData \n                ?\n        <CircularProgress data-testid='circular-progress' />\n            :\n        <Container>\n            <Typography className={classes.topHeading} sx={{display:'flex',jusstifyContent:'start', fontSize:'18px'}}>\n                Get the key ideas from\n            </Typography>\n            <Box className={classes.mainParent}>\n                <Box className={classes.parent}>\n                    <Box>\n                        <Typography className={classes.name} variant1='h4' sx={{display:'flex',jusstifyContent:'start',color:'#03314B' }}>\n                            {bookData.name}\n                        </Typography>\n                        <Typography className={classes.aim} sx={{display:'flex',jusstifyContent:'start',fontSize:'20px' ,fontWeight:'550',fontFamily:'Cera Pro',color:'#03314B' }} >\n                            {bookData.aim}\n                        </Typography>\n                        <Typography className={classes.writerName} sx={{display:'flex',jusstifyContent:'start'}} >\n                            {bookData.writerName}\n                        </Typography>\n                        <Box className={classes.timeInfo}\n                            sx={{\n                            }}\n                        >\n                            <Icon icon={<AccessTimeIcon className={classes.alarmIcon}  />} />\n                            <Typography  className={classes.time}   variant1=\"body\">\n                                {bookData.timeRead}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    <Box className={classes.clickables}>\n                        <Button children='Read now' size='medium' variant='outlined' color='success' className={classes.statusBox}/>\n                        {currentlyReadingStatus \n                            ?\n                            <Button data-testid='status-handler' children= 'Finished Reading' size='medium' variant='contained' color='success' onClick={libraryStatusHandler} classesName={classes.status}/>\n                            :\n                            ''\n                        }\n                        <Button children='Send to Kindle' size='medium' className={classes.forward} endIcon={<ArrowForward />}/>\n                    </Box>\n                </Box>\n                <Box sx={{marginRight:'200px'}}>\n                    <Image height='300' width='280' src= {bookData.url}/>\n                </Box>\n            </Box>\n            <Box className={classes.footer}>\n                <Tab stateHandler={handleState} tabData={tabData}/>\n                <Box sx={{height: '100px'}}>\n                    {moreInfo()}\n                </Box>\n            </Box>\n        </Container>\n\n    );\n}\n\nexport default BookInfoComponent;"]},"metadata":{},"sourceType":"module"}